openapi: "3.0.0"
info:
  title: Markdown Features API
  version: "1.0.0"
  description: |
    # Markdown Features API

    This API demonstrates all supported **Markdown** features in OpenAPI descriptions.

    ## Overview

    The API supports:
    - *Italic text*
    - **Bold text**
    - `Inline code`
    - ~~Strikethrough~~

    ## Authentication

    Use Bearer token authentication:

    ```typescript
    const headers = {
      Authorization: `Bearer ${token}`
    };
    ```

    ## Rate Limits

    | Tier | Requests/min | Requests/day |
    |------|--------------|--------------|
    | Free | 10 | 1,000 |
    | Pro | 100 | 10,000 |
    | Enterprise | 1,000 | 100,000 |

    ---

    > **Note**: All endpoints require authentication.

    See [documentation](https://docs.example.com) for more details.

paths:
  /items:
    get:
      summary: List all items
      description: |
        ## List Items

        Retrieves a paginated list of items.

        ### Query Parameters

        - `limit` - Maximum items per page (default: 20)
        - `offset` - Number of items to skip
        - `sort` - Sort field (`name`, `created_at`)

        ### Example Request

        ```bash
        curl -X GET "https://api.example.com/items?limit=10" \
          -H "Authorization: Bearer your-token"
        ```

        ### Response Format

        Returns an array of `Item` objects:

        ```json
        {
          "items": [
            { "id": "1", "name": "Item 1" },
            { "id": "2", "name": "Item 2" }
          ],
          "total": 100,
          "limit": 10,
          "offset": 0
        }
        ```

        #### Fields

        1. `items` - Array of item objects
        2. `total` - Total count of items
        3. `limit` - Page size used
        4. `offset` - Offset used

      responses:
        "200":
          description: |
            **Success**

            Returns the list of items.

            > Note: Results are cached for 60 seconds.
    post:
      summary: Create an item
      description: |
        Creates a new item.

        ## Request Body

        | Field | Type | Required | Description |
        |-------|------|----------|-------------|
        | `name` | string | Yes | Item name |
        | `description` | string | No | Item description |
        | `tags` | array | No | List of tags |

        ## Validation Rules

        1. **Name** must be unique
        2. **Name** must be 1-255 characters
        3. *Tags* are optional but must be strings

        ## Example

        ```python
        import requests

        response = requests.post(
            "https://api.example.com/items",
            json={"name": "New Item", "tags": ["new", "test"]},
            headers={"Authorization": "Bearer token"}
        )
        print(response.json())
        ```

      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ItemInput"
      responses:
        "201":
          description: Item created successfully

tags:
  - name: items
    description: |
      ## Item Management

      Operations for managing items in the system.

      ### Available Operations

      | Method | Endpoint | Description |
      |--------|----------|-------------|
      | `GET` | `/items` | List all items |
      | `POST` | `/items` | Create new item |
      | `GET` | `/items/{id}` | Get item by ID |

      ### Notes

      - All endpoints require authentication
      - Rate limits apply per API key
      - See **Authentication** section above

components:
  schemas:
    Item:
      type: object
      description: |
        Represents an item in the system.

        ## Properties

        - `id` - Unique identifier (UUID)
        - `name` - Display name
        - `createdAt` - Creation timestamp

      properties:
        id:
          type: string
          format: uuid
          description: Unique item identifier
        name:
          type: string
          description: |
            Item display name.

            Must be **unique** across all items.
        createdAt:
          type: string
          format: date-time
          description: When the item was created
    ItemInput:
      type: object
      description: Input schema for creating items
      properties:
        name:
          type: string
          description: "Item name - must be *unique*"
        description:
          type: string
          description: "Optional description with **markdown** support"
        tags:
          type: array
          items:
            type: string
          description: |
            List of tags for categorization.

            Example: `["api", "v2", "production"]`

